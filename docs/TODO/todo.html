
<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>1. 塾の活動 &#8212; my_sphinx  ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/translations.js"></script>
    
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="1. Sphinx プロジェクトの立ち上げ方" href="../Sphinx/quickStart.html" />
    <link rel="prev" title="TODO" href="../index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../Sphinx/quickStart.html" title="1. Sphinx プロジェクトの立ち上げ方"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="../index.html" title="TODO"
             accesskey="P">前へ</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">my_sphinx  ドキュメント</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1. </span>塾の活動</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="id1">
<h1><span class="section-number">1. </span>塾の活動<a class="headerlink" href="#id1" title="この見出しへのパーマリンク">¶</a></h1>
<section id="week5-10-31">
<h2><span class="section-number">1.1. </span>week5(10/31-)<a class="headerlink" href="#week5-10-31" title="この見出しへのパーマリンク">¶</a></h2>
<section id="java-7h">
<h3><span class="section-number">1.1.1. </span>java チュートリアル 7h<a class="headerlink" href="#java-7h" title="この見出しへのパーマリンク">¶</a></h3>
<p>動作確認まで完了。mvnarchetype:generateコマンドやMVCの基本を整理
sts4.xをインストールしていることに気づいて、sts3.xをインストール
ここで、立ち上がらない問題やrun on serverがでないなどのトラブルで時間をだいぶ使った。
javaのバージョンを変えたりstsのiniファイル編集したりして対応
serverがでなかったのはワークスペースの設定も悪かった？？</p>
<p>tutorialでドメイン部分の作成まで完了。Appの方も少しだけ作成して、一覧表示まではできた。
今までは何もわかっていなかったところからお作法とかは少しずつわかってきた。
細かいアノテーションの意味とかは調べつつ。。。わからないところはメモしている</p>
<p><img alt="../_images/20221104-1.png" src="../_images/20221104-1.png" /></p>
</section>
<section id="aws-code-artifact-3h">
<h3><span class="section-number">1.1.2. </span>AWS code artifact勉強(3h)<a class="headerlink" href="#aws-code-artifact-3h" title="この見出しへのパーマリンク">¶</a></h3>
<p>じつ業務の方で利用する機会があったので勉強した。<br />jarファイルなどの成果物を共有することができるリポジトリ。<br />curlコマンドでアップロードはできたが、mvn deployはできていない。
実際のアプリの時に使ってみて、使い方を整理したい。</p>
</section>
<section id="id2">
<h3><span class="section-number">1.1.3. </span>わからなかったこと<a class="headerlink" href="#id2" title="この見出しへのパーマリンク">¶</a></h3>
<ol class="simple">
<li><p>sts4でやったからか、run on serverがなくて困った【解決】</p>
<ul class="simple">
<li><p>sts3をインストールし直して、javaのバージョンも1.8に変えた</p></li>
<li><p>PJを開く場所をデフォルトにしたらうまくいった</p></li>
</ul>
</li>
<li><p>CodeArtifactへの登録をmvn deployからできなかった【宿題】</p></li>
</ol>
<ul class="simple">
<li><p>stsだとmvn deployはどこからするの？</p></li>
</ul>
<ol class="simple">
<li><p>repositoryとserviceで定義するメソッドについて【解決】→<a class="reference external" href="https://terasolunaorg.github.io/guideline/5.5.1.RELEASE/ja/Overview/ApplicationLayering.html">アプリケーションのレイヤと役割</a></p></li>
</ol>
<ul class="simple">
<li><p>repositoryはCRUD処理のうちで使うもの</p></li>
<li><p>serviceは業務ロジックとして使うもの？チュートリアルはいいけど何を作るのかの定義が大事？</p></li>
</ul>
<ol class="simple">
<li><p>&#64;injectって何？いくつか記事を読んでみたけど、まだよくわからない。【解決】→- <a class="reference external" href="https://www.youtube.com/watch?v=LGtdpsmMfvI">DIとAOPの神動画</a></p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="week6-11-4">
<h2><span class="section-number">1.2. </span>week6(11/4-)<a class="headerlink" href="#week6-11-4" title="この見出しへのパーマリンク">¶</a></h2>
<section id="id3">
<h3><span class="section-number">1.2.1. </span>全体の計画見直し<a class="headerlink" href="#id3" title="この見出しへのパーマリンク">¶</a></h3>
<p>チュートリアル【10-12月】</p>
<ol class="simple">
<li><p>java tutorial（11月中）</p>
<ul class="simple">
<li><p>TODO App 【完了】</p></li>
<li><p>TODO App REST【実施中】</p></li>
<li><p>TODO App Security【実施中】</p></li>
<li><p>TODO App Sesstion【実施中】</p></li>
</ul>
</li>
<li><p>Spring TUtorial【スキップ？】</p></li>
<li><p>AWS Handson(11月中)</p>
<ul class="simple">
<li><p>cicd【完了】</p></li>
<li><p>ecs【完了】</p></li>
<li><p>AI + Lambda</p></li>
</ul>
</li>
<li><p>塾長のWeb記事「クラウドネイティブアプリケーションの基本【スキップ？】</p></li>
<li><p>塾長のWeb記事「AWSで実践! 基盤構築・デプロイ自動化【12-1月】</p></li>
</ol>
<p>アプリケーション検討【12-2月】</p>
<ol class="simple">
<li><p>使ってみたいサービスリストアップ</p>
<ul class="simple">
<li><p>Cognito</p></li>
<li><p>AWS Codepipeline CodeArtifact</p></li>
<li><p>ECS</p></li>
</ul>
</li>
<li><p>アプリケーション検討→最近のサーバーレス・コンテナサービスの需要とAWSサービスの対応付けと簡易Handson？</p></li>
<li><p>全体構成検討</p></li>
<li><p>CICD基盤作成</p></li>
<li><p>アプリケーションの本格作成</p></li>
</ol>
<p>報告準備【3月】</p>
<p>2月くらいから準備して、３月に頑張る。</p>
</section>
<section id="id4">
<h3><span class="section-number">1.2.2. </span>java チュートリアル (7h)<a class="headerlink" href="#id4" title="この見出しへのパーマリンク">¶</a></h3>
<p>DIとAOPの理解
<a class="reference external" href="https://www.youtube.com/watch?v=LGtdpsmMfvI">動画</a>見てだいぶスッキリした。<br />DIはコンテナでBean（インスタンス）を管理して、インスタンスの受け渡しを担うことでメソッド間を疎結合にする。という理解。<br />あとは、実際に使いながら理解を深める</p>
<p>TODOアプリの作成
実装完了(MyBatisを利用したインフラ層実装まで)</p>
<p><img alt="../_images/20221104-2.png" src="../_images/20221104-2.png" /></p>
</section>
<section id="aws-ecsh4b-4h">
<h3><span class="section-number">1.2.3. </span>AWS ECSのH4B(4h)<a class="headerlink" href="#aws-ecsh4b-4h" title="この見出しへのパーマリンク">¶</a></h3>
<p>今までもやったことがあったが、良い復習になった。
fargateからの起動方法が新規で理解できた。
task定義とサービス定義でFargateで起動する設定を行う。</p>
</section>
<section id="aws-lambdah4b-3h">
<h3><span class="section-number">1.2.4. </span>AWS LambdaのH4B 他サービスの連携(3h)<a class="headerlink" href="#aws-lambdah4b-3h" title="この見出しへのパーマリンク">¶</a></h3>
<p>S3アップロードをイベントを契機として、Lambdaで他のサービスと連携するHandsOn</p>
</section>
<section id="id5">
<h3><span class="section-number">1.2.5. </span>わからなかったところ<a class="headerlink" href="#id5" title="この見出しへのパーマリンク">¶</a></h3>
<section id="ecs">
<h4><span class="section-number">1.2.5.1. </span>ECS<a class="headerlink" href="#ecs" title="この見出しへのパーマリンク">¶</a></h4>
<p>ECSのEC2・FargateそれぞれでメモリやCPUがどのように配分されるかは整理しても良いかなと思った。</p>
</section>
<section id="mapper-beanmapper">
<h4><span class="section-number">1.2.5.2. </span>Mapper beanMapperの役割について<a class="headerlink" href="#mapper-beanmapper" title="この見出しへのパーマリンク">¶</a></h4>
<p>TodoControllerの実装中で登場するbeanMapper君が何者かわからない。</p>
<p>多分処理的には、object型の変換をしている
todoFormはtodoTitleを持っていて、Todo.classにもあるからObjectを変換している。
他のプロパティは空っぽで変換してくれて、後続のcreateメソッドでプロパティを追加しているっぽい。</p>
<p>Q1.なんでInjectしているのか不明。。。import で使うのとは別なの？？</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@Inject</span>
 <span class="n">Mapper</span> <span class="n">beanMapper</span><span class="p">;</span>

  <span class="n">Todo</span> <span class="n">todo</span> <span class="o">=</span> <span class="n">beanMapper</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">todoForm</span><span class="p">,</span> <span class="n">Todo</span><span class="o">.</span><span class="n">class</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="controllerjsp">
<h4><span class="section-number">1.2.5.3. </span>Controllerとjspでの変数のやり取りについて<a class="headerlink" href="#controllerjsp" title="この見出しへのパーマリンク">¶</a></h4>
<p>①titleのnullチェックは文字数チェックのエラー結果はbindingResultにある</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bindingResult</span><span class="o">.</span><span class="n">hasErrors</span><span class="p">()</span>
</pre></div>
</div>
<p>②serviceに書かれた業務エラー（５個以上のTodo）はmodelにある<br />Q2.modelってkey-valueな気がするのに、keyを指定しない理由がわからない</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span> <span class="p">{</span>
   <span class="n">todoService</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">todo</span><span class="p">);</span>
<span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">BusinessException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
   <span class="o">//</span> <span class="p">(</span><span class="mi">7</span><span class="p">)</span>
   <span class="n">model</span><span class="o">.</span><span class="n">addAttribute</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">getResultMessages</span><span class="p">());</span>
   <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">model</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>③処理成功はattributesにある</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="n">attributes</span><span class="o">.</span><span class="n">addFlashAttribute</span><span class="p">(</span><span class="n">ResultMessages</span><span class="o">.</span><span class="n">success</span><span class="p">()</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
       <span class="n">ResultMessage</span><span class="o">.</span><span class="n">fromText</span><span class="p">(</span><span class="s2">&quot;Created successfully!&quot;</span><span class="p">)));</span>
<span class="k">return</span> <span class="s2">&quot;redirect:/todo/list&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>jsp側での処理では、messagePanelがResultMessagesを表示させるので、②と③は表示されるらしい。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">t</span><span class="p">:</span><span class="n">messagesPanel</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<p>Q3. modelとAttribute違う場所にあるけど、jspに渡ってきているの？
しかも異なる変数のなか（modelとattribute)にあるResultMessagesから勝手にみてきてくれるの？</p>
<p>①の表示はform:errorsが担っているっぽい</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;form:errors path=&quot;todoTitle&quot; /&gt;&lt;!-- (4) --&gt;
</pre></div>
</div>
<p>&#64;modelAttributeで指定したtodoFormのプロパティにtodoTitleがある。</p>
<p>Q4.todoTitleのValidチェックがform:errorsでエラーで結果を表示できるの？？</p>
</section>
<section id="mybats">
<h4><span class="section-number">1.2.5.4. </span>Mybatsを利用した実装<a class="headerlink" href="#mybats" title="この見出しへのパーマリンク">¶</a></h4>
<p>RepositoryImplでは&#64;RepositoryでBeanにしていたからコンテナでDIしてくれていたけど、</p>
<p>Q5. Repository.xmlでは&#64;付与をしていないのでは？勝手にBeanにしてくれるの？</p>
<p>TodoServiceImplでInjectしているけど、&#64;Repositoryがなくなったので、
コンポーネントスキャンされていない。
DIコンテナの中にBeanがないのではないか？</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="nd">@Inject</span><span class="o">//</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span>
 <span class="n">TodoRepository</span> <span class="n">todoRepository</span><span class="p">;</span>
</pre></div>
</div>
<p>ここの部分は、SQLの結果とDomain/modelのプロパティを紐づけているだけっぽいし</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="n">resultMap</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;todoResultMap&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;Todo&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nb">id</span> <span class="nb">property</span><span class="o">=</span><span class="s2">&quot;todoId&quot;</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;todo_id&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">result</span> <span class="nb">property</span><span class="o">=</span><span class="s2">&quot;todoTitle&quot;</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;todo_title&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">result</span> <span class="nb">property</span><span class="o">=</span><span class="s2">&quot;finished&quot;</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;finished&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">result</span> <span class="nb">property</span><span class="o">=</span><span class="s2">&quot;createdAt&quot;</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;created_at&quot;</span> <span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">resultMap</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>この辺の処理は、Interfaceとの紐付けをおこなっているだけっぽい。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">select</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;findById&quot;</span> <span class="n">parameterType</span><span class="o">=</span><span class="s2">&quot;String&quot;</span> <span class="n">resultMap</span><span class="o">=</span><span class="s2">&quot;todoResultMap&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>
<section id="todo">
<h1><span class="section-number">2. </span>TODO<a class="headerlink" href="#todo" title="この見出しへのパーマリンク">¶</a></h1>
<section id="done">
<h2><span class="section-number">2.1. </span>DONE<a class="headerlink" href="#done" title="この見出しへのパーマリンク">¶</a></h2>
<ul class="simple">
<li><p>sphinx環境構築</p></li>
<li><p>githubアカウント作成</p></li>
<li><p>javaspringは私用のパソコンでstsを構築</p></li>
<li><p>dockerコンテナ環境構築</p></li>
<li><p>java環境をdockerコンテナに固める手順整理</p></li>
<li><p>開発環境図整理</p></li>
<li><p>H4B CICD</p></li>
<li><p>CodeArtifactの勉強</p></li>
<li><p>H4B ECS</p></li>
</ul>
</section>
<section id="aws">
<h2><span class="section-number">2.2. </span>AWS<a class="headerlink" href="#aws" title="この見出しへのパーマリンク">¶</a></h2>
<ul class="simple">
<li><p>H4B S3+AI+Lambda Series</p></li>
<li><p>AutoScaling</p></li>
<li><p><a class="reference external" href="https://news.mynavi.jp/techplus/series/AWS/">AWSで作るクラウドネイティブアプリケーションの基本</a></p></li>
<li><p><a class="reference external" href="https://news.mynavi.jp/techplus/series/AWSAuto/">AWSで実践! 基盤構築・デプロイ自動化</a></p></li>
</ul>
</section>
<section id="java">
<h2><span class="section-number">2.3. </span>java<a class="headerlink" href="#java" title="この見出しへのパーマリンク">¶</a></h2>
<ul class="simple">
<li><p>TERASOLNAのチュートリアル（私用</p></li>
<li><p>SpringBootチュートリアル（社内環境</p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">目次</a></h3>
    <ul>
<li><a class="reference internal" href="#">1. 塾の活動</a><ul>
<li><a class="reference internal" href="#week5-10-31">1.1. week5(10/31-)</a><ul>
<li><a class="reference internal" href="#java-7h">1.1.1. java チュートリアル 7h</a></li>
<li><a class="reference internal" href="#aws-code-artifact-3h">1.1.2. AWS code artifact勉強(3h)</a></li>
<li><a class="reference internal" href="#id2">1.1.3. わからなかったこと</a></li>
</ul>
</li>
<li><a class="reference internal" href="#week6-11-4">1.2. week6(11/4-)</a><ul>
<li><a class="reference internal" href="#id3">1.2.1. 全体の計画見直し</a></li>
<li><a class="reference internal" href="#id4">1.2.2. java チュートリアル (7h)</a></li>
<li><a class="reference internal" href="#aws-ecsh4b-4h">1.2.3. AWS ECSのH4B(4h)</a></li>
<li><a class="reference internal" href="#aws-lambdah4b-3h">1.2.4. AWS LambdaのH4B 他サービスの連携(3h)</a></li>
<li><a class="reference internal" href="#id5">1.2.5. わからなかったところ</a><ul>
<li><a class="reference internal" href="#ecs">1.2.5.1. ECS</a></li>
<li><a class="reference internal" href="#mapper-beanmapper">1.2.5.2. Mapper beanMapperの役割について</a></li>
<li><a class="reference internal" href="#controllerjsp">1.2.5.3. Controllerとjspでの変数のやり取りについて</a></li>
<li><a class="reference internal" href="#mybats">1.2.5.4. Mybatsを利用した実装</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#todo">2. TODO</a><ul>
<li><a class="reference internal" href="#done">2.1. DONE</a></li>
<li><a class="reference internal" href="#aws">2.2. AWS</a></li>
<li><a class="reference internal" href="#java">2.3. java</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>前のトピックへ</h4>
    <p class="topless"><a href="../index.html"
                          title="前の章へ">TODO</a></p>
  </div>
  <div>
    <h4>次のトピックへ</h4>
    <p class="topless"><a href="../Sphinx/quickStart.html"
                          title="次の章へ"><span class="section-number">1. </span>Sphinx プロジェクトの立ち上げ方</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/TODO/todo.md.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="検索" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../Sphinx/quickStart.html" title="1. Sphinx プロジェクトの立ち上げ方"
             >次へ</a> |</li>
        <li class="right" >
          <a href="../index.html" title="TODO"
             >前へ</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">my_sphinx  ドキュメント</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1. </span>塾の活動</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, sphinx_user.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.2.3.
    </div>
  </body>
</html>